<div>
    <div class="draw-type-toggle mat-typography">
      <mat-button-toggle-group
        [value]="activeDrawType"
        (change)="onDrawTypeChange($event.value)">
        <mat-button-toggle [value]="drawType.Point">
          {{('igo.geo.draw.' + drawType.Point) | translate}}
        </mat-button-toggle>
        <mat-button-toggle [value]="drawType.LineString">
          {{('igo.geo.draw.' + drawType.LineString) | translate}}
        </mat-button-toggle>
        <mat-button-toggle [value]="drawType.Polygon">
          {{('igo.geo.draw.' + drawType.Polygon) | translate}}
        </mat-button-toggle>
        <mat-button-toggle [value]="drawType.Circle">
          {{('igo.geo.draw.' + drawType.Circle) | translate}}
        </mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <div class="draw-options mat-typography">
      <mat-slide-toggle
        [checked]="drawControlIsActive"
        [labelPosition]="'before'"
        (change)="onToggleDrawControl($event.checked)">
        {{'igo.geo.spatialFilter.drawControl' | translate}}
      </mat-slide-toggle>
      <mat-slide-toggle
        [checked]="showTooltips"
        [labelPosition]="'before'"
        (change)="onToggleTooltips($event.checked)">
        {{'igo.geo.draw.toggleMapTooltips' | translate}}
      </mat-slide-toggle>
    </div>
    <form class="igo-form" [formGroup]="form" >
      <mat-label>{{'igo.geo.draw.styleSelect'| translate}}</mat-label>
      <div class="fill-color-picker mat-typography">
        <mat-form-field appearance="outline">
          <mat-label>{{'igo.geo.draw.fill'| translate}}</mat-label>
          <input
            formControlName="fill"
            matInput
            type="text"
            [(colorPicker)]="fillColor"
            [style.background]="fillForm"
            [readonly]="true"
            [colorPicker]="fillColor"
            [cpPosition]="'bottom'"
            [cpCancelButton]="true"
            [cpCancelButtonText]="'igo.geo.draw.cancelColorPicker' | translate"
            [value]="fillColor"
            (colorPickerSelect)="changeStoreLayerStyle()">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>{{'igo.geo.draw.stroke'| translate}}</mat-label>
          <input
            formControlName="stroke"
            matInput
            type="text"
            [(colorPicker)]="strokeColor"
            [style.background]="strokeForm"
            [readonly]="true"
            [colorPicker]="strokeColor"
            [cpPosition]="'bottom'"
            [cpCancelButton]="true"
            [cpCancelButtonText]="'igo.geo.draw.cancelColorPicker' | translate"
            [value]="strokeColor"
            (colorPickerSelect)="changeStoreLayerStyle()">
        </mat-form-field>
      </div>
    </form>
    
    <mat-divider></mat-divider>

    <div>
      <button
        mat-icon-button
        color="warn"
        tooltip-position="below"
        matTooltipShowDelay="500"
        [matTooltip]="'igo.geo.draw.delete' | translate"
        [disabled]="(selectedFeatures$ | async).length === 0"
        (click)="deleteDrawings()">
        <mat-icon svgIcon="delete"></mat-icon>
      </button>
  
      <igo-entity-table
        #table
        class="table-compact"
        [store]="store"
        [template]="tableTemplate">
      </igo-entity-table>
    </div>
</div>